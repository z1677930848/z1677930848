{$layout}
{$template "menu"}
{$template "/left_menu_with_menu"}

<div class="right-box with-menu">
	<form method="post" class="ui form" data-tea-action="$" data-tea-success="success">
		<input type="hidden" name="clusterId" :value="cluster.id"/>
		<table class="ui table selectable definition">
			<tr>
				<td class="title">é›†ç¾¤åç§° *</td>
				<td><input type="text" name="name" maxlength="50" ref="focus" v-model="cluster.name"/></td>
			</tr>
            <tr v-if="cluster.domainName.length > 0">
                <td>åŸŸå</td>
                <td>
                    {{cluster.domainName}}<link-icon :href="'/clusters/cluster/settings/dns?clusterId=' + cluster.id"></link-icon>
                </td>
            </tr>
			<tr>
				<td>é»˜è®¤SSHè®¤è¯</td>
				<td>
					<grant-selector :v-grant="grant"></grant-selector>
					<p class="comment">å½“èŠ‚ç‚¹æ²¡æœ‰å•ç‹¬è®¾ç½®SSHè®¤è¯æ—¶ï¼Œé»˜è®¤ä½¿ç”¨æ­¤è®¾ç½®ã€?/p>
				</td>
			</tr>
            <tr>
                <td>é»˜è®¤SSHç«¯å£</td>
                <td>
                    <input type="text" name="sshParamsPort" v-model="cluster.sshParams.port" maxlength="5" style="width: 5em"/>
                    <p class="comment">èŠ‚ç‚¹é»˜è®¤SSHç™»å½•ç«¯å£ã€?/p>
                </td>
            </tr>
			<tr>
				<td>èŠ‚ç‚¹å®‰è£…ç›®å½•</td>
				<td>
					<input type="text" name="installDir" maxlength="100" v-model="cluster.installDir"/>
					<p class="comment">å½“èŠ‚ç‚¹æ²¡æœ‰å•ç‹¬è®¾ç½®å®‰è£…ç›®å½•æ—¶ï¼Œé»˜è®¤ä½¿ç”¨æ­¤è®¾ç½®ã€‚å¦‚æœé›†ç¾¤å’ŒèŠ‚ç‚¹éƒ½æ²¡æœ‰è®¾ç½®å®‰è£…ç›®å½•ï¼Œåˆ™ä½¿ç”?span class="ui label tiny">$ç™»å½•ç”¨æˆ·HOMEè·¯å¾„/ling-node</span> ç›®å½•ã€?/p>
				</td>
			</tr>
            <tr>
                <td colspan="2"><more-options-indicator></more-options-indicator></td>
            </tr>
            <tbody v-show="moreOptionsVisible">
                <tr>
                    <td>æ—¶åŒº</td>
                    <td>
                        <div class="ui fields inline">
                            <div class="ui field">
                                <select class="ui dropdown" v-model="timeZoneGroupCode">
                                    <option v-for="timeZoneGroup in timeZoneGroups" :value="timeZoneGroup.code">{{timeZoneGroup.name}}</option>
                                </select>
                            </div>
                            <div class="ui field">
                                <select class="ui dropdown" name="timeZone" v-model="cluster.timeZone">
                                    <option v-for="timeZoneLocation in timeZoneLocations" :value="timeZoneLocation.name" v-if="timeZoneLocation.group == timeZoneGroupCode">{{timeZoneLocation.name}} ({{timeZoneLocation.offset}})</option>
                                </select>
                            </div>
                        </div>
                        <p class="comment">èŠ‚ç‚¹è®°å½•æ—¥å¿—ä½¿ç”¨çš„æ—¶åŒºã€?/p>
                    </td>
                </tr>
                <tr>
                    <td>å•èŠ‚ç‚¹æœ€å¤§çº¿ç¨‹æ•°</td>
                    <td>
                        <input type="text" name="nodeMaxThreads" maxlength="6" v-model="cluster.nodeMaxThreads"/>
                        <p class="comment">å–å€¼åœ¨{{defaultNodeMaxThreadsMin}}å’Œ{{defaultNodeMaxThreadsMax}}ä¹‹é—´ï¼›å¦‚æœä¸º0ï¼Œåˆ™é»˜è®¤ä¸º{{defaultNodeMaxThreads}}ã€?/p>
                    </td>
                </tr>
                <tr>
                    <td>è‡ªåŠ¨å¼€æ”¾ç«¯å?/td>
                    <td>
                        <checkbox name="autoOpenPorts" v-model="cluster.autoOpenPorts"></checkbox>
                        <p class="comment">é€‰ä¸­åä¼šè‡ªåŠ¨å°è¯•åœ¨è¾¹ç¼˜èŠ‚ç‚¹æ­£åœ¨è¿è¡Œçš„firewalldä¸­å¼€æ”¾æ‰€éœ€ç«¯å£ï¼›å¦‚æœæœ‰åˆ«çš„é˜²ç«å¢™æˆ–è€…å®‰å…¨ç­–ç•¥ï¼Œä»ç„¶éœ€è¦æ‰‹å·¥æ“ä½œã€?/p>
                    </td>
                </tr>
                <tr>
                    <td class="color-border">è‡ªåŠ¨åŒæ­¥èŠ‚ç‚¹æ—¶é’Ÿ</td>
                    <td>
                        <div class="ui fields inline">
                            <div class="ui field">
                                <checkbox name="clockAutoSync" v-model="cluster.clock.autoSync"></checkbox>
                            </div>
                        </div>
                        <p class="comment">é€‰ä¸­åè¡¨ç¤ºå°è¯•è‡ªåŠ¨åŒæ­¥èŠ‚ç‚¹æ—¶é’Ÿã€?/p>
                    </td>
                </tr>
                <tr v-show="cluster.clock.autoSync">
                    <td class="color-border">NTPæ—¶é’ŸæœåŠ¡å™?/td>
                    <td>
                        <input type="text" name="clockServer" v-model="cluster.clock.server" maxlength="100"/>
                        <p class="comment">å¯é€‰é¡¹ã€‚é»˜è®¤ä½¿ç”?code-label>pool.ntp.org</code-label>ã€?/p>
                    </td>
                </tr>
                <tr v-show="cluster.clock.autoSync">
                    <td class="color-border">æ£€æŸ¥Chrony</td>
                    <td>
                        <checkbox name="clockCheckChrony" v-model="cluster.clock.checkChrony"></checkbox>
                        <p class="comment">é€‰ä¸­åï¼Œè¡¨ç¤ºå¦‚æœchronyï¼ˆå¦ä¸€æ¬¾æ—¶é—´åŒæ­¥è½¯ä»¶ï¼‰æ­£åœ¨è¿è¡Œï¼Œåˆ™ä¸é‡å¤æ‰§è¡Œæ—¶é—´åŒæ­¥ã€?/p>
                    </td>
                </tr>
                <tr>
                    <td>è‡ªåŠ¨è¿œç¨‹å¯åŠ¨</td>
                    <td>
                        <checkbox name="autoRemoteStart" v-model="cluster.autoRemoteStart"></checkbox>
                        <p class="comment">å½“æ£€æµ‹åˆ°èŠ‚ç‚¹ç¦»çº¿æ—¶ï¼Œè‡ªåŠ¨å°è¯•è¿œç¨‹å¯åŠ¨ï¼ˆå‰ææ˜¯èŠ‚ç‚¹å·²ç»è®¾ç½®äº†SSHç™»å½•è®¤è¯ï¼‰ã€?/p>
                    </td>
                </tr>
                <tr>
                    <td>è‡ªåŠ¨å®‰è£…nftables</td>
                    <td>
                        <checkbox name="autoInstallNftables" v-model="cluster.autoInstallNftables"></checkbox>
                        <p class="comment">é€‰ä¸­åï¼Œè¡¨ç¤ºåœ¨Linuxç³»ç»Ÿä¸­è‡ªåŠ¨å°è¯•å®‰è£?code-label>nftables</code-label>ç”¨äºå®‰å…¨é˜²å¾¡ï¼›æ­¤åŠŸèƒ½éœ€è¦è”ç½‘ä»Ubuntuã€CentOSç­‰è½¯ä»¶åº“ä¸­ä¸‹è½½å®‰è£…åŒ…ã€?/p>
                    </td>
                </tr>
                <tr>
                    <td>è‡ªåŠ¨è°ƒèŠ‚ç³»ç»Ÿå‚æ•°</td>
                    <td>
                        <checkbox name="autoSystemTuning" v-model="cluster.autoSystemTuning"></checkbox>
                        <p class="comment">é€‰ä¸­åï¼Œè¡¨ç¤ºè‡ªåŠ¨è°ƒæ•´Linuxå†…æ ¸ç­‰å‚æ•°ï¼Œä»¥ä¾¿æå‡æ€§èƒ½ï¼›å¯ç”¨åï¼Œä»¥å¾€å®‰è£…çš„è¾¹ç¼˜èŠ‚ç‚¹éœ€è¦é‡å¯è¿›ç¨‹åæ‰èƒ½ç”Ÿæ•ˆã€?/p>
                    </td>
                </tr>
                <tr>
                    <td>è‡ªåŠ¨æ‰§è¡Œç¡¬ç›˜<br/>TRIM</td>
                    <td>
                        <checkbox name="autoTrimDisks" value="1" v-model="cluster.autoTrimDisks"></checkbox>
                        <p class="comment">æ‰§è¡ŒTRIMåå¯ä»¥ç§»é™¤SSDç¡¬ç›˜ä¸­æ— æ•ˆçš„æ•°æ®ï¼Œä»è€Œæ˜¾è‘—æå‡SSDç¡¬ç›˜å†™å…¥æ€§èƒ½ã€?/p>
                    </td>
                </tr>
                <tr>
                    <td>èŠ‚ç‚¹I/Oæœ€å¤§è¯»å¹¶å‘æ•?/td>
                    <td>
                        <input name="maxConcurrentReads" v-model="cluster.maxConcurrentReads" type="text" style="width: 5em" maxlength="4"/>
                        <p class="comment">0è¡¨ç¤ºæ ¹æ®ç³»ç»Ÿèµ„æºè‡ªåŠ¨è®¡ç®—ï¼›é€šå¸¸ä¸éœ€è¦ä¿®æ”¹ï¼Œè¯·åœ¨ä¸“ä¸šäººå£«æŒ‡å¯¼ä¸‹æ“ä½œã€?/p>
                    </td>
                </tr>
                <tr>
                    <td>èŠ‚ç‚¹I/Oæœ€å¤§å†™å¹¶å‘æ•?/td>
                    <td>
                        <input name="maxConcurrentWrites" v-model="cluster.maxConcurrentWrites" type="text" style="width: 5em" maxlength="4"/>
                        <p class="comment">0è¡¨ç¤ºæ ¹æ®ç³»ç»Ÿèµ„æºè‡ªåŠ¨è®¡ç®—ï¼›é€šå¸¸ä¸éœ€è¦ä¿®æ”¹ï¼Œè¯·åœ¨ä¸“ä¸šäººå£«æŒ‡å¯¼ä¸‹æ“ä½œã€?/p>
                    </td>
                </tr>
            </tbody>
		</table>
		<submit-btn></submit-btn>
	</form>
</div>
